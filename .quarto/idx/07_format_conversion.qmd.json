{"title":"7: Backup in several formats","markdown":{"yaml":{"title":"7: Backup in several formats"},"headingText":"Step 1: Load CSV file into DataFrame","containsRefs":false,"markdown":"\n\nIn this script, we demonstrate a comprehensive approach to backing up data in multiple formats to ensure robustness and redundancy. The process begins by loading data from a CSV file into a pandas DataFrame, which serves as a versatile data structure for manipulation and analysis. Subsequently, this DataFrame is persisted to an SQLite database, offering a compact, reliable storage format ideal for applications requiring local data storage with relational management capabilities.\n\nAdditionally, the data is saved in a line-delimited JSON format, providing a human-readable and easily transportable format that's particularly useful for web applications and data interchange. Both the SQLite database file and the JSON file are then compressed into a ZIP archive using LZMA compression, which offers a high compression ratio, effectively reducing storage space and facilitating easier file management and transfer.\n\nFinally, the original SQLite and JSON files are removed from the filesystem to conserve space and maintain data integrity within the zip archive. This process highlights a methodical approach to data backup that can be adapted for various data persistence and backup strategies, ensuring data durability and accessibility across different platforms and environments.\n\n```python\nimport pandas as pd\nimport sqlite3\nimport os\nimport json\nimport zipfile\n\ndf = pd.read_csv('main.csv')\n\n# Step 2: Save DataFrame to SQLite database\nconn = sqlite3.connect('main.db')\ndf.to_sql('data', conn, if_exists='replace', index=False)\nconn.close()\n\n# Step 3: Save DataFrame to JSON file\ndf.to_json('main.json', orient='records', lines=True)\n\n# Step 4: Zip the SQLite database and JSON file\nwith zipfile.ZipFile('data_backup.zip', 'w', compression=zipfile.ZIP_LZMA) as zipf:\n    zipf.write('main.db')\n    zipf.write('main.json')\n\n# Step 5: Delete the original SQLite and JSON files\nos.remove('main.db')\nos.remove('main.json')\n\nprint(\"Backup completed and original files removed.\")\n```\n* * *","srcMarkdownNoYaml":"\n\nIn this script, we demonstrate a comprehensive approach to backing up data in multiple formats to ensure robustness and redundancy. The process begins by loading data from a CSV file into a pandas DataFrame, which serves as a versatile data structure for manipulation and analysis. Subsequently, this DataFrame is persisted to an SQLite database, offering a compact, reliable storage format ideal for applications requiring local data storage with relational management capabilities.\n\nAdditionally, the data is saved in a line-delimited JSON format, providing a human-readable and easily transportable format that's particularly useful for web applications and data interchange. Both the SQLite database file and the JSON file are then compressed into a ZIP archive using LZMA compression, which offers a high compression ratio, effectively reducing storage space and facilitating easier file management and transfer.\n\nFinally, the original SQLite and JSON files are removed from the filesystem to conserve space and maintain data integrity within the zip archive. This process highlights a methodical approach to data backup that can be adapted for various data persistence and backup strategies, ensuring data durability and accessibility across different platforms and environments.\n\n```python\nimport pandas as pd\nimport sqlite3\nimport os\nimport json\nimport zipfile\n\n# Step 1: Load CSV file into DataFrame\ndf = pd.read_csv('main.csv')\n\n# Step 2: Save DataFrame to SQLite database\nconn = sqlite3.connect('main.db')\ndf.to_sql('data', conn, if_exists='replace', index=False)\nconn.close()\n\n# Step 3: Save DataFrame to JSON file\ndf.to_json('main.json', orient='records', lines=True)\n\n# Step 4: Zip the SQLite database and JSON file\nwith zipfile.ZipFile('data_backup.zip', 'w', compression=zipfile.ZIP_LZMA) as zipf:\n    zipf.write('main.db')\n    zipf.write('main.json')\n\n# Step 5: Delete the original SQLite and JSON files\nos.remove('main.db')\nos.remove('main.json')\n\nprint(\"Backup completed and original files removed.\")\n```\n* * *"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"07_format_conversion.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.40","theme":"cosmo","title":"7: Backup in several formats"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}